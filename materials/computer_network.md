## ☁️ Компьютерная сеть

> Некоторые знания в этом разделе взяты из Компьютерных сетей (7-е издание)

Архитектура компьютерной сети:
> К сожалению пока картинка не готова 

[//]: # (todo)
### Роли и протоколы каждого слоя

| Слои               | роль                                                                                                 | протокол                                                  |
|--------------------|------------------------------------------------------------------------------------------------------|-----------------------------------------------------------|
| Физический слой    | Передача битов через среду, определение механических и электрических спецификаций (биты)             | RJ45, CLOCK, IEEE802.3 (ретрансляторы, концентраторы)     |
| Слой канала данных | Сборка битов в кадры и доставка от точки к точке (Кадр)                                              | PPP, FR, HDLC, VLAN, MAC (мост, коммутатор)               |
| Сетевой слой       | Ответственность за передачу пакетов данных от источника к стоку и межсетевое взаимодействие (пакеты) | IP, ICMP, ARP, RARP, OSPF, IPX, RIP, IGRP (маршрутизатор) |
| Транспортный слой  | Обеспечение надежной доставки сообщений от конца к концу и восстановление ошибок (Сегмент)           | TCP, UDP, SPX                                             |
| Сеансовый слой     | Установление, управление и завершение сеансов (сеансовая протокольная единица данных SPDU)           | NFS, SQL, NETBIOS, RPC                                    |
| Слой представления | Перевод, шифрование и сжатие данных (Единица данных протокола представления PPDU)                    | JPEG, MPEG, ASII                                          |
| Прикладной слой    | Средство для доступа к среде OSI (Единица данных прикладного протокола APDU)                         | FTP, DNS, Telnet, SMTP, HTTP, WWW, NFS                    |

### Физический уровень

* Единица передаваемых данных: бит
* Система передачи данных: исходная система (источник, отправитель) -> система передачи -> система назначения (приемник,
  пункт назначения)

Каналы:

* Однонаправленный канал (simplex channel): только однонаправленная связь, нет обратной взаимодействия, например,
  вещание
* Двунаправленная альтернативная связь (half-duplex communication): обе стороны связи могут отправлять сообщения, но не
  могут отправлять или получать одновременно
* Двунаправленная одновременная связь (full-duplex communication): обе стороны связи могут отправлять и получать
  информацию одновременно

Технология мультиплексирования каналов:

* Частотное разделение мультиплексирование (FDM, Frequency Division Multiplexing): разные пользователи в разных
  частотных диапазонах, пользователи используют разные ресурсы пропускной способности одновременно
* Временное разделение мультиплексирование (TDM): разные пользователи в разных временных интервалах в том же временном
  периоде, все пользователи занимают ту же пропускную способность в разное время
* Мультиплексирование по длине волны (WDM): частотное разделение мультиплексирование света
* Мультиплексирование по коду (CDM): Разные пользователи используют разные коды и могут использовать ту же частотную
  полосу для связи одновременно

### Уровень канала данных

Основной канал:

* Точечный канал
* Широковещательный канал

#### Точечный канал

* Единица данных: кадр

Три основных вопроса:

* Инкапсуляция: инкапсуляция датаграмм IP на сетевом уровне в кадры, `SOH-часть данных-EOT`
* Прозрачная передача: независимо от символов в части данных, она может быть передана; это может быть решено методом
  заполнения байтов (экранирование символов перед конфликтующими символами)
* Обнаружение ошибок: уменьшение битовой частоты ошибок (BER), широко используется циклическая избыточная проверка (CRC,
  Cyclic Redundancy Check)

Протокол точка-точка:

* Протокол точка-точка: протокол, используемый компьютером пользователя для связи с провайдером интернет-услуг

#### Широковещательный канал

Широковещательная связь:

* Аппаратный адрес (физический адрес, MAC-адрес)
* Одноадресный кадр (один-к-одному): MAC-адрес полученного кадра совпадает с аппаратным адресом этой станции
* Широковещательный кадр (один-к-паре): кадр, отправленный на все станции в локальной сети
* Многоадресный кадр (один-к-многим): кадр, отправленный на некоторые сайты в локальной сети

### Сетевой уровень

* IP (Internet Protocol, Internet Protocol) - это протокол, разработанный для общения компьютерных сетей друг с другом.
* ARP (Address Resolution Protocol, Address Resolution Protocol)
* ICMP (Internet Control Message Protocol, Internet Control Message Protocol)
* IGMP (Internet Group Management Protocol, Internet Group Management Protocol)

#### IP Интернет-протокол

Классификация IP-адресов:

* `IP-адрес ::= (<номер сети>, <номер хоста>)`

| Категория IP-адреса | номер сети                                                                                  | диапазон сети          | номер хоста | диапазон IP-адресов          |
|---------------------|---------------------------------------------------------------------------------------------|------------------------|-------------|------------------------------|
| Класс A             | 8 бит, первый бит фиксирован на 0                                                           | 0 —— 127               | 24 бита     | 1.0.0.0 —— 127.255.255.255   |
| Класс B             | 16 бит, первые два бита фиксированы на 10                                                   | 128.0 —— 191.255       | 16 бит      | 128.0.0.0 —— 191.255.255.255 |
| Класс C             | 24 бита, первые три бита фиксированы на 110                                                 | 192.0.0 —— 223.255.255 | 8 бит       | 192.0.0.0 —— 223.255.255.255 |
| Класс D             | Первые четыре бита фиксированы на 1110, за которыми следует многоадресный адрес             |                        |             |                              |
| Класс E             | Первые пять цифр фиксированы на 11110, последние зарезервированы для будущего использования |                        |             |                              |

Формат датаграммы IP:

![Формат датаграммы IP](https://media.geeksforgeeks.org/wp-content/uploads/20230512140024/Screenshot-(359).png)

#### ICMP Интернет-протокол управления сообщениями

Формат сообщения ICMP:

![Формат сообщения ICMP](https://upload.wikimedia.org/wikipedia/commons/thumb/e/e1/ICMP_header_-_General-en.svg/2560px-ICMP_header_-_General-en.svg.png)


* PING (Packet InterNet Groper) для проверки связности между двумя хостами
* TTL (Time To Live, время жизни) Это поле указывает максимальное количество сегментов сети, которые пакеты IP могут
  проходить, прежде чем они будут отброшены маршрутизатором.

